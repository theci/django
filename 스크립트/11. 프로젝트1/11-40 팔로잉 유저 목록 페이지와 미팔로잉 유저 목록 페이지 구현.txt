안녕하세요 이번 시간에는 현재 로그인 유저의 팔로잉 유저 목록과 아직 팔로잉 하지 않는 유저 목록을 확인할 수 있는 페이지를 구현해 보겠습니다
팔로잉 유저 목록 페이지를 통해 팔로잉 유저를 손쉽게 확인할 수 있고 언파일도 할 수 있고요 
아직 팔로잉 하지 않는 유저 목록 페이지를 통해 새로운 유저를 찾아서 손쉽게 팔로잉 할 수 있게 됩니다
포트폴리오 앱에서 팔로잉 유저 리스트 뷰와 디스커버 유저 리스트 뷰를 통해 구현해 주겠습니다
각 뷰에서는 팔로잉 관계 파악이 필요하기 때문에 로그인이 필수예요
그래서 로그인 required 장식자를 적용해 주고요 최상위 부모 템플릿에 두 페이지의 링크를 추가하겠고요
아직 뷰 구현이 없어서 반환 값이 없기에 페이지에 방문하면 ValueError 예외가 발생합니다 
현재 요청 유저의 팔로잉 유저를 조회하는 쿼리셋은 요청 유저의 전체 팔로잉 유저 쿼리셋에서 현 요청 유저는 제외하면 됩니다
그리고 템플릿 내에서 각 유저의 아바타 이미지도 보여줄 것이기에 프로필 필드에 대해서도 즉시 로딩을 수행해 줍니다
템플릿 응답은 포톨로그의 userlist.html 템플릿을 통해 응답을 하겠습니다.
현재 요청 유저가 미 팔로잉, 즉 팔로잉하지 않은 유저를 조회하는 쿼리셋은 요청 유저의 전체 팔로잉 유저를 제외하고요.
추가로 요청 유저까지 제외하면 됩니다.
위 팔로잉 유저 리스트 뷰 응답과 비교해서 다른 것은 유저 목록과 팔로잉 여부만 다르니까요
템플릿 응답은 위와 동일하게 포토로그의 userlist.html 템플릿을 사용하겠고요 유저 리스트 html 템플릿을 두 케이스를 모두 커버하도록 구성하겠습니다
UserList.html 템플릿에서 UserList 쿼리셋을 그대로 출력해 보겠고요.
그러면 팔로잉 페이지에서의 팔로잉 중인 유저명을 확인하실 수 있고, 찾기 페이지에서는 아직 팔로잉하지 않은 유저명을 확인하실 수 있습니다.
userlist.html 템플릿의 레이아웃을 구성해 보겠습니다.
Bootstrap의 그리드 레이아웃을 활용하겠고요.
각 유저는 카드 레이아웃으로 정보를 표현하겠습니다.
각 유저마다 보여지는 데이터의 길이가 달라서 각 카드의 세로 크기가 다를 수 있는데요.
H100 클래스를 지정하면 한 행에서의 카드 레이아웃의 세로 길이가 서로 달라도 긴 쪽으로 동일하게 맞춰집니다.
카드 헤더에 유저의 아바타 이미지와 유저명을 보여주겠고요.
아바타 이미지가 등록되지 않은 유저일 경우 아이콘 폰트로 대신 보여주겠습니다.
유저명 텍스트에는 유저 페이지 링크로 걸어줍니다.
카드 바디에는 그 유저의 자기소개를 보여주면 좋을 듯합니다.
자기소개 필드는 유저 모델이나 프로필 모델에 아직 없어요.
자기소개 필드를 추가하신 후에 이 위치에 한번 노출시켜 보세요.
카드 푸터에는 팔로잉 버튼을 노출하겠습니다.
뷰로부터 팔로잉 여부인 isFollower 플래그 인자를 전달받아서 플래그 값에 따라서 팔로잉 버튼을 보여주면 됩니다.
그런데 이 팔로잉 버튼은 우리가 포톨로그에 underbar-user-follow.html 템플릿에 이미 구현을 다 해두었었죠.
이 템플릿을 include 하고요.
isFollower 인자와 userName 인자를 전달해 줍니다.
그럼 이렇게 팔로잉 유저 목록과 아직 팔로잉하지 않은 유저 목록을 확인하실 수 있고요
아직 팔로잉하지 않은 유저 4를 팔로잉할 수 있고요 클릭하면 페이지 새로고침 없이 htmx를 통해서 팔로잉 처리가 됩니다
페이지 새로고침하시면 팔로잉하지 않은 유저 목록에서 유저 4는 빠졌고요
팔로잉 유저 목록에서 유저 4를 확인하실 수 있습니다
이번에는 유저 2를 언팔하고요 아직 팔로잉하지 않은 유저 목록에 가보시면 유저 2를 확인하실 수 있습니다