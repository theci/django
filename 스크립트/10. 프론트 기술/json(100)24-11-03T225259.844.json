새로 고친 버튼을 클릭하면 지정 주소의 서버에서 HTML 컨텐츠를 가져와서 지정 요소에 업데이트하는 예시입니다.
외부 라이브러리 없이 기본 HTML, JavaScript, CSS로 한 땀 한 땀 구현했고요. 
새로 고친 버튼에 클릭 이벤트에 대한 이벤트 리스너드 추가해서 버튼이 클릭되면 해당 함수가 호출됩니다.
그 함수에서는 패치 API로 블로그의 태그스 주소로 요청을 보내고요.
응답에 전체 HTML을 태그 리스트 컨테이너 요소에 그대로 적용하고 Show Class까지 추가하면 컨텐츠가 보여지며 투명도 애니메이션도 적용됩니다.
간단해 보이는 기능이지만 다른 사람이 이 코드를 봤을 때 바로 이 동작을 예상하기는 어렵습니다. 
각기 떨어져 있는 HTML, CSS, JavaScript 코드들을 연결해서 읽어야 하기 때문이죠.
블로그의 테스트 페이지에서 예시를 구현해 보겠습니다.
블로그의 test.html 템플릿을 사용하는 테스트 뷰를 구현하고, URF 패턴에도 등록해줍니다.
test.html 템플릿에는 HTML, CSS 코드만 먼저 복사해 주고요.
JavaScript 코드는 조금씩 살펴보겠습니다.
CSS 파일에서는 id가 태그 리스트 컨테이너인 요소에 Transition 전환 효과를 주려 하는데요.
투명도에 대해서 300ms 시간 동안 전환되고 초기 값은 0으로 지정했습니다.
투명도 0은 완전 투명한 상태로서 화면에 보이지 않는 상태입니다.
isInOut은 Transition 타이밍 함수입니다.
투명도 수치가 트랜지션 시작할 때와 끝날 때는 천천히 변경되고, 중간에는 빠르게 변경됩니다.
쇼클래스가 적용되면 투명도가 1로 지정될 텐데요.
앞서 지정한 트랜지션이 동작되어 300ms의 시간 동안, 시작할 때와 끝날 때는 투명도가 천천히 전환되고, 중간에는 빠르게 전환될 것입니다.
템플릿 파일을 저장하고 블로그의 테스트 페이지에 방문하면 이렇게 새로고침 버튼만 덜렁 있습니다.
자바스크립트 개발을 할 테니 콘솔 창을 미리 열어두어 자바스크립트 오류가 발생하면 빠르게 인지할 수 있도록 준비합니다.
자바스크립트에서 코디 셀렉터 API를 통해 지정 코디 셀렉터의 DOM 요소를 조회합니다.
페이지 새로고침하시고 콘솔 창을 통해 버튼 EL 값과 컨테이너 EL 값을 확인하실 수 있습니다. 
버튼에 대한 클릭 이벤트 리스너를 등록합니다.
해당 요소에 addEventListener를 호출하여 인자로 클릭 문자를 넘겨 클릭 이벤트에 대한 리스너 함수를 등록하실 수도 있고요.
해당 요소에 onClick 속성으로 함수를 지정하여 클릭 이벤트에 대한 리스너 함수를 등록하실 수도 있습니다.
두 방법 모두 가능합니다.
클릭 이벤트에 대한 리스너 함수는 async 함수도 가능합니다.
참고로 나중에 리액트에서는 함수 등록 시에 async 함수가 지원되지 않는 상황도 있습니다. 
자, 여기에 async 함수를 사용한 이유는 패치 API 사용 시에 await를 사용하기 위함이고요.
자바스크립트에서 await는 async 함수 내에서만 사용할 수 있습니다.
패치 API로 블로그의 태그스 주소에 HTTP 요청을 보내고 응답 객체에서 응답 바디의 HTML 문자열을 HTML 텍스트 상수에 저장하고 콘솔에 출력합니다.
그럼 이렇게 HTML 태그, 헤드 태그, 부트스트랩 5의 CSS, 자바스크립트 코드까지 모두 응답으로 받아왔음을 확인하실 수 있습니다.
컨테이너 요소의 innerHTML 속성으로 적용해 보시면 새로고침을 클릭하는 시점에 새로고침 버튼의 스타일이 변경됩니다.
브라우저 개발자 도구 요소 탭에서 태그 리스트 컨테이너 요소를 확인해 보시면 내부에 Bootstrap 5 CSS에 대한 링크 태그가 있죠.
기본 테스트 페이지에는 아무런 CSS가 없는데 새로고침을 클릭하는 시점에 Bootstrap 5 스타일이 로딩되어 웹페이지에 적용이 된 상황입니다.
응답에서 head 요소는 무시하고 body 요소만 적용해 보겠습니다.
바디 요소만 적용하는 이유는 htmx 라이브러리에서는 바디 요소만 지정 요소에 반영하도록 동작하기 때문이고요.
이는 페이지 스타일은 이미 적용된 상황일 테고 동적으로 페이지 스타일이나 라이브러리를 로딩하는 경우는 드뭅니다.
그래서 htmx를 통한 업데이트에서는 불필요하게 CSS, JavaScript, 라이브러리 로딩 없이 컨텐츠만 효율적으로 적용하도록 바디 요소만 지정 요소에 반영하도록 동작합니다.
돈팟을 통해 HTML 문자열을 가공해서 바디 요소만 추출하고요.
추출된 바디 요소의 이너 HTML을 컨테이너 요소에 반영합니다.
웹페이지 새로고침하시고 새로고침 버튼을 클릭해보면 새로고침이 동작하지 않네요.
브라우저 콘솔 탭을 보니 레퍼런스 에러가 발생했습니다.
이렇게 자바스크립트가 예상대로 동작하지 않으면 콘솔 탭을 가장 먼저 확인해 보세요.
오류 내역이 바로 확인이 됩니다.
HTML 변수명을 잘못 지정했네요.
HTML 텍스트 변수명으로 수정합니다.
페이지 새로고침하시고 새로고침 버튼 클릭해 보시면 새로고침 버튼 스타일이 이제 안 바뀌죠?
어? 그런데 태그 목록이 아직 안 보여지네요?
브라우저 개발자 도구 요소 탭에 보시면 태그 리스트 컨테이너 내에 태그 목록이 담긴 메인 요소가 있습니다.
그리고 네트워크 탭에서 블로그의 태그스 요청에 대한 응답을 받는 것도 확인이 되고요.
응답 문서에 바디 요소도 출력해 보시면 콘솔 탭에 출력도 잘 됩니다.
왜 안 보여질까요?
그 이유는 CSS에서 기본 투명도가 0이었고, 투명도를 변경해 주는 코드가 없었네요.
컨테이너 요소에 컨텐츠를 반영하고 Show 클래스를 추가해 줍니다.
Show 클래스에서는 투명도를 1로 변경하는 CSS가 적용되어 있습니다.
페이지 새로고침하시고, 이제 새로고침 버튼 클릭하시면 새로고침 버튼 스타일도 안 바뀌고요.
300ms의 트랜지션 효과와 함께 태그 목록이 보여짐을 확인하실 수 있습니다.
이처럼 간단한 페이지 로딩조차 다양한 오류에 직면하고 디버깅 과정이 복잡합니다.
HTMX를 통해 직관적이고 간결한 코드로 동일한 기능을 구현해 보겠습니다.



1. 테스트 페이지와 HTML 템플릿 설정
목표: 테스트 페이지에서 새로고침 버튼을 통해 태그 목록을 동적으로 로드.
설정:
test.html 템플릿을 생성하고, HTML과 CSS를 추가.
HTML에 새로고침 버튼과 태그 리스트 컨테이너 추가.
CSS 설정:
#tag-list-container 요소에 투명도 트랜지션 효과 추가 (300ms).
초기 투명도는 0으로 설정, Show 클래스가 적용되면 투명도 1로 전환.
2. JavaScript 설정
목표: 새로고침 버튼 클릭 시 태그 목록을 동적으로 로드.
설정:
document.querySelector로 새로고침 버튼과 태그 리스트 컨테이너 요소 선택.
새로고침 버튼에 클릭 이벤트 리스너를 추가하여 이벤트 발생 시 함수 호출.
JavaScript 코드:
async 함수로 정의하여 fetch API 요청 사용 가능.
fetch API로 태그 목록 URL에 요청을 보내 HTML 응답 수신.
3. 응답 HTML 컨텐츠 적용
목표: HTML 응답에서 필요한 부분만 태그 리스트 컨테이너에 적용.
설정:
전체 응답에서 body 요소만 추출하여 컨테이너에 적용.
Show 클래스를 추가하여 투명도를 1로 변경.
확인: 새로고침 버튼 클릭 시 태그 목록이 투명도 애니메이션과 함께 표시됨.
4. 디버깅 및 오류 수정
목표: JavaScript 오류 발생 시 빠르게 해결.
설정:
브라우저 콘솔을 열어 오류 확인.
HTML 변수명을 올바르게 수정.
확인: 새로고침 버튼 클릭 후 스타일이 바뀌지 않고 태그 목록이 정상적으로 표시됨.
5. HTMX로 간단하게 구현
목표: HTMX를 사용해 동일한 동작을 간단한 코드로 구현.
설정:
새로고침 버튼에 hx-get 속성을 추가해 HTMX로 태그 목록 로딩.
확인: HTMX로 더 간결하게 동일한 기능을 구현하며 코드 가독성과 유지보수성 향상.